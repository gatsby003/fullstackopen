(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(14),r=n.n(c),o=n(3),u=n(2),a=n(4),i=n.n(a),s="api/persons/",j={getAll:function(){return i.a.get(s).then((function(e){return e.data}))},create:function(e){return i.a.post(s,e).then((function(e){return e.data}))},update:function(e,t){return i.a.put("".concat(s,"/").concat(e),t).then((function(e){return e.data}))},deletePerson:function(e){return i.a.delete("".concat(s,"/").concat(e)).then((function(e){return console.log(e)}))}},l=n(0),b=function(){var e=Object(u.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(u.useState)(""),a=Object(o.a)(r,2),i=a[0],s=a[1],b=Object(u.useState)(""),h=Object(o.a)(b,2),d=h[0],f=h[1],O=Object(u.useState)(""),v=Object(o.a)(O,2),x=v[0],m=v[1],p=Object(u.useState)([]),g=Object(o.a)(p,2),w=g[0],E=g[1],S=Object(u.useState)(""),y=Object(o.a)(S,2),k=y[0],C=y[1];Object(u.useEffect)((function(){j.getAll().then((function(e){c(e)}))}),[]);var A=function(e){window.confirm("you wanna delete this contact?")&&(j.deletePerson(e).then(console.log("yo")),j.getAll().then((function(e){c(e)})))},N=function(e){e.deletePerson;var t=[];return n.forEach((function(e){return t.push(Object(l.jsx)("div",{children:Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:[e.name," : ",e.number]}),Object(l.jsx)("button",{onClick:function(){return A(e.id)},children:"delete"})]})},e.name))})),t},P=function(){if(w===[])return Object(l.jsx)(l.Fragment,{});var e=[];return w.forEach((function(t){return e.push(Object(l.jsxs)("h4",{children:[t.name," : ",t.number]},t.name+1))})),e},D=function(e){var t=e.service;return 0===w.length?Object(l.jsx)(N,{handleDelete:t}):Object(l.jsx)(P,{})},J=function(e){var t=e.newError,n=e.setNewError;return setTimeout((function(){n("")}),5e3),Object(l.jsx)("div",{style:{color:"green",fontStyle:"italic",fontSize:16,border:5},children:Object(l.jsx)("h1",{children:t})})};return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Phonebook"}),"filter shown with : ",Object(l.jsx)("input",{onChange:function(e){e.preventDefault();var t=e.target.value;m(e.target.value),E([]);var c=[];n.forEach((function(e){e.name.toLocaleLowerCase().includes(t)&&c.push(e)})),console.log(c),E(c)},value:x}),Object(l.jsx)(J,{newError:k,setNewError:C}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:i,number:d};!function(e){var t=[];return n.forEach((function(e){return t.push(e.name)})),t.includes(e.name)}(t)?j.create(t).then((function(e){c(n.concat(e)),s(""),f("")})):C("Name ".concat(i," already exists"),i)},children:[Object(l.jsx)("h1",{children:"Add a new"}),Object(l.jsxs)("div",{children:["name: ",Object(l.jsx)("input",{onChange:function(e){s(e.target.value)},value:i})]}),Object(l.jsxs)("div",{children:["number: ",Object(l.jsx)("input",{onChange:function(e){f(e.target.value)},value:d})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]}),Object(l.jsx)("h2",{children:"Numbers"}),Object(l.jsx)("div",{children:Object(l.jsx)(D,{service:A})})]})};n(38);r.a.render(Object(l.jsx)(b,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.170c372f.chunk.js.map